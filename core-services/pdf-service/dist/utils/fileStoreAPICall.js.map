{"version":3,"sources":["../../src/utils/fileStoreAPICall.js"],"names":["FormData","require","egovFileHost","envVariables","EGOV_FILESTORE_SERVICE_HOST","fileStoreAPICall","filename","tenantId","fileData","url","form","append","contentType","axios","post","headers","getHeaders","response","data"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;;;AADA,IAAIA,WAAWC,QAAQ,WAAR,CAAf;;;AAGA,IAAIC,eAAeC,+BAAaC,2BAAhC;;AAEA;;;;;AAKO,IAAMC;AAAA,sFAAmB,iBAAeC,QAAf,EAAyBC,QAAzB,EAAmCC,QAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAC1BC,eAD0B,GACjBP,YADiB,qCAC2BK,QAD3B;AAE1BG,gBAF0B,GAEnB,IAAIV,QAAJ,EAFmB;;AAG9BU,iBAAKC,MAAL,CAAY,MAAZ,EAAoBH,QAApB,EAA8B;AAC5BF,wBAAUA,QADkB;AAE5BM,2BAAa;AAFe,aAA9B;AAH8B;AAAA,mBAOTC,gBAAMC,IAAN,CAAWL,GAAX,EAAgBC,IAAhB,EAAsB;AACzCK,kDACKL,KAAKM,UAAL,EADL;AADyC,aAAtB,CAPS;;AAAA;AAO1BC,oBAP0B;AAAA,6CAYvB,mBAAIA,SAASC,IAAb,EAAmB,sBAAnB,CAZuB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAnB;;AAAA;AAAA;AAAA;AAAA,GAAN","file":"fileStoreAPICall.js","sourcesContent":["import request from \"request\";\nimport fs from \"fs\";\nimport get from \"lodash/get\";\nimport axios, { post } from \"axios\";\nvar FormData = require(\"form-data\");\nimport envVariables from \"../EnvironmentVariables\";\n\nlet egovFileHost = envVariables.EGOV_FILESTORE_SERVICE_HOST;\n\n/**\n *\n * @param {*} filename -name of localy stored temporary file\n * @param {*} tenantId - tenantID\n */\nexport const fileStoreAPICall = async function(filename, tenantId, fileData) {\n  var url = `${egovFileHost}/filestore/v1/files?tenantId=${tenantId}&module=pdfgen&tag=00040-2017-QR`;\n  var form = new FormData();\n  form.append(\"file\", fileData, {\n    filename: filename,\n    contentType: \"application/pdf\"\n  });\n  let response = await axios.post(url, form, {\n    headers: {\n      ...form.getHeaders()\n    }\n  });\n  return get(response.data, \"files[0].fileStoreId\");\n};\n"]}