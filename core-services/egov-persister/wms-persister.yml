serviceMaps:
  serviceName: wms-services
  mappings:
    - version: 1.0
      description: Persists WMS details in tables
      fromTopic: save-wms-application
      isTransaction: true
      queryMaps:
        - query: INSERT INTO state_sor(sor_id,sor_name,start_date,end_date,chapter,item_no,description_of_item,unit,rate,createdby,lastmodifiedby,createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
          basePath: ScheduleOfRateApplication.*
          jsonMaps:
            - jsonPath: $.ScheduleOfRateApplication.*.sor_id

            - jsonPath: $.ScheduleOfRateApplication.*.sor_name
           
            - jsonPath: $.ScheduleOfRateApplication.*.start_date
            
            - jsonPath: $.ScheduleOfRateApplication.*.end_date

            - jsonPath: $.ScheduleOfRateApplication.*.chapter
            
            - jsonPath: $.ScheduleOfRateApplication.*.item_no
            
            - jsonPath: $.ScheduleOfRateApplication.*.description_of_item
            
            - jsonPath: $.ScheduleOfRateApplication.*.unit
            
            - jsonPath: $.ScheduleOfRateApplication.*.rate
            
            - jsonPath: $.ScheduleOfRateApplication.*.auditDetails.createdBy

            - jsonPath: $.ScheduleOfRateApplication.*.auditDetails.lastModifiedBy

            - jsonPath: $.ScheduleOfRateApplication.*.auditDetails.createdTime
            
            - jsonPath: $.ScheduleOfRateApplication.*.auditDetails.lastModifiedTime

    - version: 1.0
      description: Update SOR applications in table
      fromTopic: update-wms-application
      isTransaction: true
      queryMaps:
        - query: UPDATE state_sor SET chapter = ?,sor_name = ?, rate = ?, end_date = ? WHERE sor_id=?;
          basePath: ScheduleOfRateApplication.*
          jsonMaps:
            - jsonPath: $.ScheduleOfRateApplication.*.chapter

            - jsonPath: $.ScheduleOfRateApplication.*.sor_name
           
            - jsonPath: $.ScheduleOfRateApplication.*.rate
            
            - jsonPath: $.ScheduleOfRateApplication.*.end_date
            
            - jsonPath: $.ScheduleOfRateApplication.*.sor_id
            
            
            
    - version: 1.0
      description: Persists scheme details in tables
      fromTopic: save-scm-application
      isTransaction: true
      queryMaps:

        - query: INSERT INTO scheme_master (scheme_id,start_date,end_date,source_of_fund,scheme_name_en,scheme_name_reg,fund,description_of_the_scheme,upload_document) VALUES (?, ?, ?, ?, ?, ?, ?, ?,?);
          basePath: SchemeApplication.*
          jsonMaps:
            - jsonPath: $.SchemeApplication.*.scheme_id

            - jsonPath: $.SchemeApplication.*.start_date

            - jsonPath: $.SchemeApplication.*.end_date
            
            - jsonPath: $.SchemeApplication.*.source_of_fund

            - jsonPath: $.SchemeApplication.*.scheme_name_en

            - jsonPath: $.SchemeApplication.*.scheme_name_reg

            - jsonPath: $.SchemeApplication.*.fund

            - jsonPath: $.SchemeApplication.*.description_of_the_scheme

            - jsonPath: $.SchemeApplication.*.upload_document
            
       
       
      
    - version: 1.0
      description: Update Scheme applications in table
      fromTopic: update-scm-application
      isTransaction: true
      queryMaps:
      
        - query: UPDATE scheme_master SET source_of_fund = ?,start_date = ?, end_date = ?, fund = ?, description_of_the_scheme = ?, upload_document = ? WHERE scheme_id=?;
          basePath: SchemeApplication.*
          jsonMaps:
            - jsonPath: $.SchemeApplication.*.source_of_fund

            - jsonPath: $.SchemeApplication.*.start_date
           
            - jsonPath: $.SchemeApplication.*.end_date
            
            - jsonPath: $.SchemeApplication.*.fund
            
            - jsonPath: $.SchemeApplication.*.description_of_the_scheme
            
            - jsonPath: $.SchemeApplication.*.upload_document
            
            - jsonPath: $.SchemeApplication.*.scheme_id
            
            
            
            
    - version: 1.0
      description: Persists project details in tables
      fromTopic: save-prj-application
      isTransaction: true
      queryMaps:

        - query: INSERT INTO project_master (project_id,project_number,source_of_fund,scheme_no,department,project_name_en,project_name_reg,project_description,project_timeline,project_start_date,project_end_date,scheme_name,approval_number,approval_date,status) VALUES (?, ?, ?, ?, ?, ?, ?, ?,?,?,?,?,?,?,?);
          basePath: ProjectApplication.*
          jsonMaps:
            - jsonPath: $.ProjectApplication.*.project_id

            - jsonPath: $.ProjectApplication.*.project_number

            - jsonPath: $.ProjectApplication.*.source_of_fund
            
            - jsonPath: $.ProjectApplication.*.scheme_no

            - jsonPath: $.ProjectApplication.*.department

            - jsonPath: $.ProjectApplication.*.project_name_en

            - jsonPath: $.ProjectApplication.*.project_name_reg

            - jsonPath: $.ProjectApplication.*.project_description

            - jsonPath: $.ProjectApplication.*.project_timeline
            
            - jsonPath: $.ProjectApplication.*.project_start_date
            
            - jsonPath: $.ProjectApplication.*.project_end_date
            
            - jsonPath: $.ProjectApplication.*.scheme_name
            
            - jsonPath: $.ProjectApplication.*.approval_number
            
            - jsonPath: $.ProjectApplication.*.approval_date
            
            - jsonPath: $.ProjectApplication.*.status
            
       
       
      
    - version: 1.0
      description: Update Project applications in table
      fromTopic: update-prj-application
      isTransaction: true
      queryMaps:
      
        - query: UPDATE project_master SET source_of_fund = ?,department =?,project_description=?,project_timeline=?,project_start_date = ?, project_end_date = ?, approval_number = ?, approval_date = ?, status = ? WHERE project_id=?;
          basePath: SchemeApplication.*
          jsonMaps:
            - jsonPath: $.SchemeApplication.*.source_of_fund
            
            - jsonPath: $.SchemeApplication.*.department
            
            - jsonPath: $.SchemeApplication.*.project_description
            
            - jsonPath: $.SchemeApplication.*.project_timeline

            - jsonPath: $.SchemeApplication.*.project_start_date
           
            - jsonPath: $.SchemeApplication.*.project_end_date
            
            - jsonPath: $.SchemeApplication.*.approval_number
            
            - jsonPath: $.SchemeApplication.*.approval_date
            
            - jsonPath: $.SchemeApplication.*.status
            
            - jsonPath: $.SchemeApplication.*.project_id

       
    - version: 1.0
      description: Persists WMS Work details in tables
      fromTopic: save-work-application
      isTransaction: true
      queryMaps:
        - query: INSERT INTO work(work_id,project_id,work_no,work_name,project_name,department_name,work_type,work_category,work_subtype,project_phase,deviation_percent,start_location,end_location,financial_year,budget_head,createdby,lastmodifiedby,createdtime, lastmodifiedtime) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
          basePath: WMSWorkApplication.*
          jsonMaps:
            - jsonPath: $.WMSWorkApplication.*.work_id

            - jsonPath: $.WMSWorkApplication.*.project_id
           
            - jsonPath: $.WMSWorkApplication.*.work_no
            
            - jsonPath: $.WMSWorkApplication.*.work_name

            - jsonPath: $.WMSWorkApplication.*.project_name
            
            - jsonPath: $.WMSWorkApplication.*.department_name
            
            - jsonPath: $.WMSWorkApplication.*.work_type
            
            - jsonPath: $.WMSWorkApplication.*.work_category
            
            - jsonPath: $.WMSWorkApplication.*.work_subtype   
            
            - jsonPath: $.WMSWorkApplication.*.project_phase
            
            - jsonPath: $.WMSWorkApplication.*.deviation_percent
            
            - jsonPath: $.WMSWorkApplication.*.start_location
            
            - jsonPath: $.WMSWorkApplication.*.end_location
            
            - jsonPath: $.WMSWorkApplication.*.financial_year
            
            - jsonPath: $.WMSWorkApplication.*.budget_head
            
            - jsonPath: $.WMSWorkApplication.*.auditDetails.createdBy

            - jsonPath: $.WMSWorkApplication.*.auditDetails.lastModifiedBy

            - jsonPath: $.WMSWorkApplication.*.auditDetails.createdTime
            
            - jsonPath: $.WMSWorkApplication.*.auditDetails.lastModifiedTime   
      
 
    - version: 1.0
      description: Update Work applications in table
      fromTopic: update-work-application
      isTransaction: true
      queryMaps:
      
        - query: UPDATE work SET department_name = ?,work_type = ?, work_category = ?, work_subtype = ?, project_phase = ?, deviation_percent = ? WHERE work_no = ? and work_id = ?;
          basePath: WMSWorkApplication.*
          jsonMaps:
            - jsonPath: $.WMSWorkApplication.*.department_name

            - jsonPath: $.WMSWorkApplication.*.work_type
           
            - jsonPath: $.WMSWorkApplication.*.work_category
            
            - jsonPath: $.WMSWorkApplication.*.work_subtype
            
            - jsonPath: $.WMSWorkApplication.*.project_phase
            
            - jsonPath: $.WMSWorkApplication.*.deviation_percent
            
            - jsonPath: $.WMSWorkApplication.*.work_no
            
            - jsonPath: $.WMSWorkApplication.*.work_id	
            
            
            
    - version: 1.0
      description: Persists contractor details in tables
      fromTopic: save-contr-application
      isTransaction: true
      queryMaps:

        - query: INSERT INTO contractor (vendor_id,vendor_type,vendor_sub_type,vendor_name,vendor_status,pfms_vendor_code,payto,mobile_number,email,uid_number,gst_number,pan_number,bank_branch,bank_ifsc_code,bank_account_number,function,primary_account_head,vendor_class,address,epfo_account_number) VALUES (?, ?, ?, ?, ?, ?, ?, ?,?,?,?,?,?,?,?,?,?,?,?,?);
          basePath: WMSContractorApplication.*
          jsonMaps:
            - jsonPath: $.WMSContractorApplication.*.vendor_id

            - jsonPath: $.WMSContractorApplication.*.vendor_type

            - jsonPath: $.WMSContractorApplication.*.vendor_sub_type
            
            - jsonPath: $.WMSContractorApplication.*.vendor_name

            - jsonPath: $.WMSContractorApplication.*.vendor_status

            - jsonPath: $.WMSContractorApplication.*.pfms_vendor_code

            - jsonPath: $.WMSContractorApplication.*.payto

            - jsonPath: $.WMSContractorApplication.*.mobile_number

            - jsonPath: $.WMSContractorApplication.*.email
            
            - jsonPath: $.WMSContractorApplication.*.uid_number
            
            - jsonPath: $.WMSContractorApplication.*.gst_number
            
            - jsonPath: $.WMSContractorApplication.*.pan_number
            
            - jsonPath: $.WMSContractorApplication.*.bank_branch
            
            - jsonPath: $.WMSContractorApplication.*.bank_ifsc_code
            
            - jsonPath: $.WMSContractorApplication.*.bank_account_number
            
            - jsonPath: $.WMSContractorApplication.*.function
            
            - jsonPath: $.WMSContractorApplication.*.primary_account_head
            
            - jsonPath: $.WMSContractorApplication.*.vendor_class
            
            - jsonPath: $.WMSContractorApplication.*.address
            
            - jsonPath: $.WMSContractorApplication.*.epfo_account_number	
            
            
            
    - version: 1.0
      description: Persists Tender Entry details in tables
      fromTopic: save-tender-application
      isTransaction: true
      queryMaps:

        - query: INSERT INTO tender_entry (tender_id,department_name,request_category,project_name,resolution_no,resolution_date,prebid_meeting_date,prebid_meeting_location,issue_from_date,issue_till_date,publish_date,technical_bid_open_date,financial_bid_open_date,validity,upload_document,work_no,work_description,estimated_cost,tender_type,tender_fee,emd,vendor_class,work_duration) VALUES (?, ?, ?, ?, ?, ?, ?, ?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?);
          basePath: WMSTenderEntryApplication.*
          jsonMaps:
            - jsonPath: $.WMSTenderEntryApplication.*.tender_id

            - jsonPath: $.WMSTenderEntryApplication.*.department_name

            - jsonPath: $.WMSTenderEntryApplication.*.request_category
            
            - jsonPath: $.WMSTenderEntryApplication.*.project_name

            - jsonPath: $.WMSTenderEntryApplication.*.resolution_no

            - jsonPath: $.WMSTenderEntryApplication.*.resolution_date

            - jsonPath: $.WMSTenderEntryApplication.*.prebid_meeting_date

            - jsonPath: $.WMSTenderEntryApplication.*.prebid_meeting_location

            - jsonPath: $.WMSTenderEntryApplication.*.issue_from_date
            
            - jsonPath: $.WMSTenderEntryApplication.*.issue_till_date
            
            - jsonPath: $.WMSTenderEntryApplication.*.publish_date
            
            - jsonPath: $.WMSTenderEntryApplication.*.technical_bid_open_date
            
            - jsonPath: $.WMSTenderEntryApplication.*.financial_bid_open_date
            
            - jsonPath: $.WMSTenderEntryApplication.*.validity
            
            - jsonPath: $.WMSTenderEntryApplication.*.upload_document
            
            - jsonPath: $.WMSTenderEntryApplication.*.work_no
            
            - jsonPath: $.WMSTenderEntryApplication.*.work_description
            
            - jsonPath: $.WMSTenderEntryApplication.*.estimated_cost
            
            - jsonPath: $.WMSTenderEntryApplication.*.tender_type
            
            - jsonPath: $.WMSTenderEntryApplication.*.tender_fee
            
            - jsonPath: $.WMSTenderEntryApplication.*.emd
            
            - jsonPath: $.WMSTenderEntryApplication.*.vendor_class
            
            - jsonPath: $.WMSTenderEntryApplication.*.work_duration	
            
           
          
    - version: 1.0
      description: Persists Physical Financial Milestone details in tables
      fromTopic: save-pfmile-application
      isTransaction: true
      queryMaps:

        - query: INSERT INTO physical_financial_milestone (milestone_id,project_name,work_name,milestone_name,sr_no,activity_description,percentage_weightage,planned_start_date,planned_end_date,total_weightage,milestone_description,actual_start_date,actual_end_date,progress_update_date,completed_percentage) VALUES (?, ?, ?, ?, ?, ?, ?, ?,?,?,?,?,?,?,?);
          basePath: WMSPhysicalFinancialMilestoneApplication.*
          jsonMaps:
            - jsonPath: $.WMSPhysicalFinancialMilestoneApplication.*.milestone_id

            - jsonPath: $.WMSPhysicalFinancialMilestoneApplication.*.project_name

            - jsonPath: $.WMSPhysicalFinancialMilestoneApplication.*.work_name
            
            - jsonPath: $.WMSPhysicalFinancialMilestoneApplication.*.milestone_name

            - jsonPath: $.WMSPhysicalFinancialMilestoneApplication.*.sr_no

            - jsonPath: $.WMSPhysicalFinancialMilestoneApplication.*.activity_description

            - jsonPath: $.WMSPhysicalFinancialMilestoneApplication.*.percentage_weightage

            - jsonPath: $.WMSPhysicalFinancialMilestoneApplication.*.planned_start_date

            - jsonPath: $.WMSPhysicalFinancialMilestoneApplication.*.planned_end_date
            
            - jsonPath: $.WMSPhysicalFinancialMilestoneApplication.*.total_weightage
            
            - jsonPath: $.WMSPhysicalFinancialMilestoneApplication.*.milestone_description
            
            - jsonPath: $.WMSPhysicalFinancialMilestoneApplication.*.actual_start_date
            
            - jsonPath: $.WMSPhysicalFinancialMilestoneApplication.*.actual_end_date
            
            - jsonPath: $.WMSPhysicalFinancialMilestoneApplication.*.progress_update_date
            
            - jsonPath: $.WMSPhysicalFinancialMilestoneApplication.*.completed_percentage
            
            
          
            
    - version: 1.0
      description: Persists Work Award Approval details in tables
      fromTopic: save-waward-application
      isTransaction: true
      queryMaps:

        - query: INSERT INTO work_award_approval (work_award_id,work_name,percentage_type,quoted_percentage,contractor_name,no_of_days_for_agreement,loa_generation,award_date,document_upload,award_status) VALUES (?, ?, ?, ?, ?, ?, ?, ?,?,?);
          basePath: WMSWorkAwardApprovalApplication.*
          jsonMaps:
            - jsonPath: $.WMSWorkAwardApprovalApplication.*.work_award_id

            - jsonPath: $.WMSWorkAwardApprovalApplication.*.work_name

            - jsonPath: $.WMSWorkAwardApprovalApplication.*.percentage_type
            
            - jsonPath: $.WMSWorkAwardApprovalApplication.*.quoted_percentage

            - jsonPath: $.WMSWorkAwardApprovalApplication.*.contractor_name

            - jsonPath: $.WMSWorkAwardApprovalApplication.*.no_of_days_for_agreement

            - jsonPath: $.WMSWorkAwardApprovalApplication.*.loa_generation

            - jsonPath: $.WMSWorkAwardApprovalApplication.*.award_date

            - jsonPath: $.WMSWorkAwardApprovalApplication.*.document_upload
            
            - jsonPath: $.WMSWorkAwardApprovalApplication.*.award_status
            
            
               
    - version: 1.0
      description: Persists work estimation details in tables
      fromTopic: save-wrkest-application
      isTransaction: true
      queryMaps:

        - query: INSERT INTO work_estimation (estimate_id,work_estimation_no,project_name,work_name,from_date,to_date,estimate_type,sor_name,download_template,upload_template,chapter,item_no,desription_of_the_item,length,bw,dh,nos,quantity,unit,rate,estimate_amount,serial_no,particulars_of_item,calculation_type,addition_deduction,lf,bwf,dhf,sub_total,grand_total,estimated_quantity,remarks,overhead_code,overhead_description,value_type,estimated_amount,document_description,upload_document) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
          basePath: WMSWorkEstimationApplication.*
          jsonMaps:
            - jsonPath: $.WMSWorkEstimationApplication.*.estimate_id

            - jsonPath: $.WMSWorkEstimationApplication.*.work_estimation_no

            - jsonPath: $.WMSWorkEstimationApplication.*.project_name
            
            - jsonPath: $.WMSWorkEstimationApplication.*.work_name

            - jsonPath: $.WMSWorkEstimationApplication.*.from_date

            - jsonPath: $.WMSWorkEstimationApplication.*.to_date

            - jsonPath: $.WMSWorkEstimationApplication.*.estimate_type

            - jsonPath: $.WMSWorkEstimationApplication.*.sor_name

            - jsonPath: $.WMSWorkEstimationApplication.*.download_template
            
            - jsonPath: $.WMSWorkEstimationApplication.*.upload_template
            
            - jsonPath: $.WMSWorkEstimationApplication.*.chapter
            
            - jsonPath: $.WMSWorkEstimationApplication.*.item_no
            
            - jsonPath: $.WMSWorkEstimationApplication.*.desription_of_the_item
            
            - jsonPath: $.WMSWorkEstimationApplication.*.length
            
            - jsonPath: $.WMSWorkEstimationApplication.*.bw
            
            - jsonPath: $.WMSWorkEstimationApplication.*.dh
            
            - jsonPath: $.WMSWorkEstimationApplication.*.nos
            
            - jsonPath: $.WMSWorkEstimationApplication.*.quantity
            
            - jsonPath: $.WMSWorkEstimationApplication.*.unit
            
            - jsonPath: $.WMSWorkEstimationApplication.*.rate
            
            - jsonPath: $.WMSWorkEstimationApplication.*.estimate_amount
            
            - jsonPath: $.WMSWorkEstimationApplication.*.serial_no
            
            - jsonPath: $.WMSWorkEstimationApplication.*.particulars_of_item
            
            - jsonPath: $.WMSWorkEstimationApplication.*.calculation_type
            
            - jsonPath: $.WMSWorkEstimationApplication.*.addition_deduction
            
            - jsonPath: $.WMSWorkEstimationApplication.*.lf
            
            - jsonPath: $.WMSWorkEstimationApplication.*.bwf
            
            - jsonPath: $.WMSWorkEstimationApplication.*.dhf
            
            - jsonPath: $.WMSWorkEstimationApplication.*.sub_total
            
            - jsonPath: $.WMSWorkEstimationApplication.*.grand_total
            
            - jsonPath: $.WMSWorkEstimationApplication.*.estimated_quantity
            
            - jsonPath: $.WMSWorkEstimationApplication.*.remarks
            
            - jsonPath: $.WMSWorkEstimationApplication.*.overhead_code
            
            - jsonPath: $.WMSWorkEstimationApplication.*.overhead_description
            
            - jsonPath: $.WMSWorkEstimationApplication.*.value_type
            
            - jsonPath: $.WMSWorkEstimationApplication.*.estimated_amount
            
            - jsonPath: $.WMSWorkEstimationApplication.*.document_description
            
            - jsonPath: $.WMSWorkEstimationApplication.*.upload_document

