serviceMaps:
  serviceName: egov-filemgmnt
  mappings:
  - version: 1.0
    description: Persists applicant details in egov_filemgmnt database, eg_fm_applicantpersonal table
    fromTopic: save-fm-applicantpersonal
    isTransaction: true
    queryMaps:
    - query: >
        INSERT INTO eg_fm_applicantpersonal(id, aadhaarno, email, firstname, lastname, title, mobileno, tenantid, createdby, createdtime, lastmodifiedby, lastmodifiedtime) 
        VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
      basePath: ApplicantPersonals.*
      jsonMaps:
      - jsonPath: $.ApplicantPersonals.*.id

      - jsonPath: $.ApplicantPersonals.*.aadhaarNo 
      
      - jsonPath: $.ApplicantPersonals.*.email 
      
      - jsonPath: $.ApplicantPersonals.*.firstName 
      
      - jsonPath: $.ApplicantPersonals.*.lastName 
      
      - jsonPath: $.ApplicantPersonals.*.title 
      
      - jsonPath: $.ApplicantPersonals.*.mobileNo 
      
      - jsonPath: $.ApplicantPersonals.*.tenantId
      
      - jsonPath: $.ApplicantPersonals.*.auditDetails.createdBy

      - jsonPath: $.ApplicantPersonals.*.auditDetails.createdTime
      
      - jsonPath: $.ApplicantPersonals.*.auditDetails.lastModifiedBy

      - jsonPath: $.ApplicantPersonals.*.auditDetails.lastModifiedTime

  - version: 1.0
    description: Update applicant details in egov_filemgmnt database, eg_fm_applicantpersonal table
    fromTopic: update-fm-applicantpersonal
    isTransaction: true
    queryMaps:
    - query: >
        UPDATE eg_fm_applicantpersonal 
        SET aadhaarno = ?, email = ?, firstname = ?, lastname = ?, title = ?, mobileno = ?, applicantaddressid = ?, lastmodifiedby = ?, lastmodifiedat = ? 
        WHERE id = ?;
      basePath: ApplicantPersonals.*
      jsonMaps:
      - jsonPath: $.ApplicantPersonals.*.aadhaarNo 
      
      - jsonPath: $.ApplicantPersonals.*.email 
      
      - jsonPath: $.ApplicantPersonals.*.firstName 
      
      - jsonPath: $.ApplicantPersonals.*.lastName 
      
      - jsonPath: $.ApplicantPersonals.*.title 
      
      - jsonPath: $.ApplicantPersonals.*.mobileNo 
      
      - jsonPath: $.ApplicantPersonals.*.auditDetails.lastModifiedBy

      - jsonPath: $.ApplicantPersonals.*.auditDetails.lastModifiedTime
      
      - jsonPath: $.ApplicantPersonals.*.id 

  - version: 1.0
    description: Persists applicant service details in egov_filemgmnt database, eg_fm_servicedetails table
    fromTopic: save-fm_servicedetails
    isTransaction: true
    queryMaps:
    - query: >
        INSERT INTO eg_fm_servicedetails(id, applicantpersonalid, serviceid, servicecode, businessservice, workflowcode, createdby, createdtime, lastmodifiedby, lastmodifiedtime) 
        VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
      basePath: ApplicantServices.*
      jsonMaps:
      - jsonPath: $.ApplicantServices.*.id

      - jsonPath: $.ApplicantServices.*.applicantPersonalId 
      
      - jsonPath: $.ApplicantServices.*.serviceId 
      
      - jsonPath: $.ApplicantServices.*.serviceCode 
      
      - jsonPath: $.ApplicantServices.*.businessService 
      
      - jsonPath: $.ApplicantServices.*.workflowCode 
      
      - jsonPath: $.ApplicantServices.*.auditDetails.createdBy

      - jsonPath: $.ApplicantServices.*.auditDetails.createdTime
      
      - jsonPath: $.ApplicantServices.*.auditDetails.lastModifiedBy

      - jsonPath: $.ApplicantServices.*.auditDetails.lastModifiedTime 
      
       